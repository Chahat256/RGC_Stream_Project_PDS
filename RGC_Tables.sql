create database RGC;
use RGC;

CREATE TABLE RGC_COUNTRY (
  COUNTRY_CODE CHAR(5) NOT NULL COMMENT 'COUNTRY CODE (EG:US,IND,ETC)',
  COUNTRY_NAME VARCHAR(50) NOT NULL COMMENT 'COUNTRY NAME',
  CONSTRAINT COUNTRY_CODE_CHECK CHECK (CHAR_LENGTH(COUNTRY_CODE) = 5),
  PRIMARY KEY (COUNTRY_CODE)
);

CREATE TABLE RGC_VIEWER (
  ACCOUNT_ID VARCHAR(30) NOT NULL COMMENT 'UNIQUE VIEWER ACCOUNT',
  ACC_FNAME VARCHAR(15) NOT NULL COMMENT 'FIRST NAME OF THE ACCOUNT HOLDER',
  ACC_LNAME VARCHAR(15) COMMENT 'LAST NAME OF THE ACCOUNT HOLDER',
  ADDRESS_STREET VARCHAR(50) NOT NULL COMMENT 'STREET OF ACCOUNT HOLDER ADDRESS',
  ADDRESS_CITY VARCHAR(30) NOT NULL COMMENT 'CITY OF ACCOUNT HOLDER ADDRESS',
  ADDRESS_ZIP VARCHAR(10) NOT NULL COMMENT 'ZIPCODE OF ACCOUNT HOLDER ADDRESS',
  DATE_OPENED DATE NOT NULL COMMENT 'DATE OF ACCOUNT CREATION',
  MONTHLY_CHARGE DECIMAL(6,2) NOT NULL COMMENT 'MONTHLY FEE',
  COUNTRY_CODE CHAR(5) NOT NULL,
  CONSTRAINT VIEWER_MONTHLY_CHARGE_CHECK CHECK (MONTHLY_CHARGE > 0),
  PRIMARY KEY (ACCOUNT_ID),
  CONSTRAINT FK_COUNTRY_VIEWER FOREIGN KEY (COUNTRY_CODE)
    REFERENCES RGC_COUNTRY (COUNTRY_CODE)
);

CREATE TABLE RGC_PRODUCER (
  PRODUCER_ID VARCHAR(10) NOT NULL COMMENT 'PRODUCER ID',
  P_FNAME VARCHAR(30) NOT NULL COMMENT 'PRODUCER FIRST NAME',
  P_LNAME VARCHAR(30) COMMENT 'PRODUCER LAST NAME',
  P_PHONE VARCHAR(15) NOT NULL COMMENT 'CONTACT NUMBER',
  P_EMAIL VARCHAR(50) NOT NULL COMMENT 'PRODUCER EMAIL ID',
  P_ADDRESS_STREET VARCHAR(50) NOT NULL,
  P_ADDRESS_CITY VARCHAR(30) NOT NULL,
  P_ADDRESS_STATE VARCHAR(30) NOT NULL,
  P_ADDRESS_ZIP VARCHAR(10) NOT NULL,
  P_ADDRESS_COUNTRY VARCHAR(30) NOT NULL,
  PRIMARY KEY (PRODUCER_ID)
);

CREATE TABLE RGC_PRODUCTION_HOUSE (
  HOUSE_ID VARCHAR(10) NOT NULL COMMENT 'UNIQUE ID FOR EACH PRODUCTION HOUSE',
  HOUSE_NAME VARCHAR(50) NOT NULL,
  ADDRESS_STREET VARCHAR(50) NOT NULL,
  ADDRESS_CITY VARCHAR(30) NOT NULL,
  ADDRESS_STATE VARCHAR(30) NOT NULL,
  ADDRESS_ZIP VARCHAR(10) NOT NULL,
  ADDRESS_COUNTRY VARCHAR(30) NOT NULL,
  YEAR_ESTABLISHED INT NOT NULL COMMENT 'YEAR FOUNDED',
  PRIMARY KEY (HOUSE_ID)
);

CREATE TABLE RGC_PRODUCER_PRODUCTION_HOUSE (
  PRODUCER_ID VARCHAR(10) NOT NULL,
  HOUSE_ID VARCHAR(10) NOT NULL,
  ASSOCIATION_DATE DATE NOT NULL,
  END_DATE DATE NOT NULL,
  PRIMARY KEY (PRODUCER_ID, HOUSE_ID),
  CONSTRAINT FK_PRODUCER_PRODHOUSE FOREIGN KEY (PRODUCER_ID)
    REFERENCES RGC_PRODUCER (PRODUCER_ID),
  CONSTRAINT FK_PRODHOUSE_PRODUCER FOREIGN KEY (HOUSE_ID)
    REFERENCES RGC_PRODUCTION_HOUSE (HOUSE_ID)
);

CREATE TABLE RGC_SERIES_TYPE (
  SERIES_TYPE_ID VARCHAR(10) NOT NULL,
  SERIES_TYPE_NAME VARCHAR(30) NOT NULL COMMENT 'SERIES GENRE (COMEDY/HORROR/DRAMA)',
  PRIMARY KEY (SERIES_TYPE_ID)
);

CREATE TABLE RGC_SUBTITLE_LANGUAGE (
  S_LANGUAGE_ID VARCHAR(30) NOT NULL,
  S_LANGUAGE_NAME VARCHAR(30) NOT NULL,
  PRIMARY KEY (S_LANGUAGE_ID)
);

CREATE TABLE RGC_DUBBING_LANGUAGE (
  D_LANGUAGE_ID VARCHAR(30) NOT NULL,
  D_LANGUAGE_NAME VARCHAR(30) NOT NULL,
  PRIMARY KEY (D_LANGUAGE_ID)
);

CREATE TABLE RGC_WEB_SERIES (
  SERIES_ID VARCHAR(10) NOT NULL,
  SERIES_NAME VARCHAR(50) NOT NULL,
  NUM_EPISODES INT NOT NULL,
  RELEASE_DATE DATE NOT NULL,
  COUNTRY_OF_ORIGIN VARCHAR(30) NOT NULL,
  LANGUAGE VARCHAR(30) NOT NULL,
  HOUSE_ID VARCHAR(10) NOT NULL,
  PRIMARY KEY (SERIES_ID),
  CONSTRAINT FK_PHOUSE_WS FOREIGN KEY (HOUSE_ID)
    REFERENCES RGC_PRODUCTION_HOUSE (HOUSE_ID)
);

CREATE TABLE RGC_WEB_SERIES_SERIES_TYPE (
  SERIES_ID VARCHAR(10) NOT NULL,
  SERIES_TYPE_ID VARCHAR(10) NOT NULL,
  PRIMARY KEY (SERIES_ID, SERIES_TYPE_ID),
  CONSTRAINT FK_WS_WS_TYPE FOREIGN KEY (SERIES_TYPE_ID)
    REFERENCES RGC_SERIES_TYPE (SERIES_TYPE_ID),
  CONSTRAINT FK_WS_WS_WS_TYPE FOREIGN KEY (SERIES_ID)
    REFERENCES RGC_WEB_SERIES (SERIES_ID)
);

CREATE TABLE RGC_WEBSERIES_SUBTITLE (
  SERIES_ID VARCHAR(10) NOT NULL,
  S_LANGUAGE_ID VARCHAR(30) NOT NULL,
  PRIMARY KEY (SERIES_ID, S_LANGUAGE_ID),
  CONSTRAINT FK_SUBTITLE_WS_SUB FOREIGN KEY (S_LANGUAGE_ID)
    REFERENCES RGC_SUBTITLE_LANGUAGE (S_LANGUAGE_ID),
  CONSTRAINT FK_WS_WS_SUBTITLE FOREIGN KEY (SERIES_ID)
    REFERENCES RGC_WEB_SERIES (SERIES_ID)
);

CREATE TABLE RGC_WEBSERIES_DUBBING (
  SERIES_ID VARCHAR(10) NOT NULL,
  D_LANGUAGE_ID VARCHAR(30) NOT NULL,
  PRIMARY KEY (SERIES_ID, D_LANGUAGE_ID),
  CONSTRAINT FK_DUBBING_WS_DUB FOREIGN KEY (D_LANGUAGE_ID)
    REFERENCES RGC_DUBBING_LANGUAGE (D_LANGUAGE_ID),
  CONSTRAINT FK_WS_WS_DUBBING FOREIGN KEY (SERIES_ID)
    REFERENCES RGC_WEB_SERIES (SERIES_ID)
);

CREATE TABLE RGC_WS_RELEASE_COUNTRY (
  RELEASE_DATE_IN_COUNTRY DATE NOT NULL,
  SERIES_ID VARCHAR(10) NOT NULL,
  COUNTRY_CODE CHAR(5) NOT NULL,
  PRIMARY KEY (RELEASE_DATE_IN_COUNTRY, SERIES_ID, COUNTRY_CODE),
  CONSTRAINT FK_WS_WS_RC FOREIGN KEY (SERIES_ID)
    REFERENCES RGC_WEB_SERIES (SERIES_ID),
  CONSTRAINT FK_COUNTRY_WS_RC FOREIGN KEY (COUNTRY_CODE)
    REFERENCES RGC_COUNTRY (COUNTRY_CODE)
);

CREATE TABLE RGC_EPISODE (
  EPISODE_ID VARCHAR(10) NOT NULL,
  EPISODE_TITLE VARCHAR(50) NOT NULL,
  TOTAL_VIEWERS INT NOT NULL,
  TECHNICAL_INTERRUPTION ENUM('YES','NO') NOT NULL COMMENT 'TECHNICAL INTERRUPTION FLAG',
  SERIES_ID VARCHAR(10) NOT NULL,
  CONSTRAINT TOTAL_VIEWERS_CHECK CHECK (TOTAL_VIEWERS >= 0),
  PRIMARY KEY (EPISODE_ID),
  CONSTRAINT FK_WS_EPISODE FOREIGN KEY (SERIES_ID)
    REFERENCES RGC_WEB_SERIES (SERIES_ID)
);

CREATE TABLE RGC_AIRING_SCHEDULE (
  AIRING_SCHEDULE_ID VARCHAR(10) NOT NULL,
  START_TS DATETIME NOT NULL,
  END_TS DATETIME NOT NULL,
  EPISODE_ID VARCHAR(10) NOT NULL,
  PRIMARY KEY (AIRING_SCHEDULE_ID),
  CONSTRAINT FK_EPISODE_SCHEDULE FOREIGN KEY (EPISODE_ID)
    REFERENCES RGC_EPISODE (EPISODE_ID)
);

CREATE TABLE RGC_CONTRACT (
  CONTRACT_ID VARCHAR(10) NOT NULL,
  CONTRACT_DATE DATE NOT NULL,
  END_DATE DATE NOT NULL,
  EPISODE_RATE DECIMAL(10,2) NOT NULL,
  SERIES_ID VARCHAR(10) NOT NULL,
  CONSTRAINT EPISODE_RATE_CHECK CHECK (EPISODE_RATE > 0),
  PRIMARY KEY (CONTRACT_ID),
  CONSTRAINT FK_WS_CONTRACT FOREIGN KEY (SERIES_ID)
    REFERENCES RGC_WEB_SERIES (SERIES_ID)
);

CREATE TABLE RGC_FEEDBACK (
  FEEDBACK_ID VARCHAR(30) NOT NULL,
  FEEDBACK_TEXT VARCHAR(300) NOT NULL,
  RATING INT NOT NULL,
  FEEDBACK_DATE DATE NOT NULL,
  SERIES_ID VARCHAR(10) NOT NULL,
  ACCOUNT_ID VARCHAR(30) NOT NULL,
  CONSTRAINT RATING_CHECK CHECK (RATING BETWEEN 1 AND 5),
  PRIMARY KEY (FEEDBACK_ID),
  CONSTRAINT FK_VIEWER_FEEDBACK FOREIGN KEY (ACCOUNT_ID)
    REFERENCES RGC_VIEWER (ACCOUNT_ID),
  CONSTRAINT FK_WS_FEEDBACK FOREIGN KEY (SERIES_ID)
    REFERENCES RGC_WEB_SERIES (SERIES_ID)
);

INSERT INTO RGC_COUNTRY VALUES ('US001', 'United States');
INSERT INTO RGC_COUNTRY VALUES ('IN002', 'India');
INSERT INTO RGC_COUNTRY VALUES ('UK003', 'United Kingdom');
INSERT INTO RGC_COUNTRY VALUES ('CA004', 'Canada');
INSERT INTO RGC_COUNTRY VALUES ('AU005', 'Australia');
INSERT INTO RGC_COUNTRY VALUES ('JP006', 'Japan');
INSERT INTO RGC_COUNTRY VALUES ('KR007', 'South Korea');
INSERT INTO RGC_COUNTRY VALUES ('FR008', 'France');
INSERT INTO RGC_COUNTRY VALUES ('DE009', 'Germany');
INSERT INTO RGC_COUNTRY VALUES ('IT010', 'Italy');
INSERT INTO RGC_COUNTRY VALUES ('BR011', 'Brazil');
INSERT INTO RGC_COUNTRY VALUES ('ES012', 'Spain');
INSERT INTO RGC_COUNTRY VALUES ('MX013', 'Mexico');
INSERT INTO RGC_COUNTRY VALUES ('CN014', 'China');
INSERT INTO RGC_COUNTRY VALUES ('ZA015', 'South Africa');

INSERT INTO RGC_SUBTITLE_LANGUAGE VALUES ('S001', 'English');
INSERT INTO RGC_SUBTITLE_LANGUAGE VALUES ('S002', 'Spanish');
INSERT INTO RGC_SUBTITLE_LANGUAGE VALUES ('S003', 'French');
INSERT INTO RGC_SUBTITLE_LANGUAGE VALUES ('S004', 'German');
INSERT INTO RGC_SUBTITLE_LANGUAGE VALUES ('S005', 'Hindi');
INSERT INTO RGC_SUBTITLE_LANGUAGE VALUES ('S006', 'Korean');
INSERT INTO RGC_SUBTITLE_LANGUAGE VALUES ('S007', 'Japanese');
INSERT INTO RGC_SUBTITLE_LANGUAGE VALUES ('S008', 'Italian');
INSERT INTO RGC_SUBTITLE_LANGUAGE VALUES ('S009', 'Portuguese');
INSERT INTO RGC_SUBTITLE_LANGUAGE VALUES ('S010', 'Arabic');
INSERT INTO RGC_SUBTITLE_LANGUAGE VALUES ('S011', 'Mandarin');
INSERT INTO RGC_SUBTITLE_LANGUAGE VALUES ('S012', 'Russian');
INSERT INTO RGC_SUBTITLE_LANGUAGE VALUES ('S013', 'Turkish');
INSERT INTO RGC_SUBTITLE_LANGUAGE VALUES ('S014', 'Dutch');
INSERT INTO RGC_SUBTITLE_LANGUAGE VALUES ('S015', 'Swedish');

INSERT INTO RGC_DUBBING_LANGUAGE VALUES ('D001', 'English');
INSERT INTO RGC_DUBBING_LANGUAGE VALUES ('D002', 'Spanish');
INSERT INTO RGC_DUBBING_LANGUAGE VALUES ('D003', 'French');
INSERT INTO RGC_DUBBING_LANGUAGE VALUES ('D004', 'Hindi');
INSERT INTO RGC_DUBBING_LANGUAGE VALUES ('D005', 'Korean');
INSERT INTO RGC_DUBBING_LANGUAGE VALUES ('D006', 'Japanese');
INSERT INTO RGC_DUBBING_LANGUAGE VALUES ('D007', 'German');
INSERT INTO RGC_DUBBING_LANGUAGE VALUES ('D008', 'Portuguese');
INSERT INTO RGC_DUBBING_LANGUAGE VALUES ('D009', 'Arabic');
INSERT INTO RGC_DUBBING_LANGUAGE VALUES ('D010', 'Italian');
INSERT INTO RGC_DUBBING_LANGUAGE VALUES ('D011', 'Mandarin');
INSERT INTO RGC_DUBBING_LANGUAGE VALUES ('D012', 'Russian');
INSERT INTO RGC_DUBBING_LANGUAGE VALUES ('D013', 'Dutch');
INSERT INTO RGC_DUBBING_LANGUAGE VALUES ('D014', 'Swedish');
INSERT INTO RGC_DUBBING_LANGUAGE VALUES ('D015', 'Tamil');

INSERT INTO RGC_SERIES_TYPE VALUES ('T001', 'Drama');
INSERT INTO RGC_SERIES_TYPE VALUES ('T002', 'Comedy');
INSERT INTO RGC_SERIES_TYPE VALUES ('T003', 'Action');
INSERT INTO RGC_SERIES_TYPE VALUES ('T004', 'Thriller');
INSERT INTO RGC_SERIES_TYPE VALUES ('T005', 'Romance');
INSERT INTO RGC_SERIES_TYPE VALUES ('T006', 'Documentary');
INSERT INTO RGC_SERIES_TYPE VALUES ('T007', 'Animation');
INSERT INTO RGC_SERIES_TYPE VALUES ('T008', 'Crime');
INSERT INTO RGC_SERIES_TYPE VALUES ('T009', 'Horror');
INSERT INTO RGC_SERIES_TYPE VALUES ('T010', 'Sci-Fi');
INSERT INTO RGC_SERIES_TYPE VALUES ('T011', 'Travel');
INSERT INTO RGC_SERIES_TYPE VALUES ('T012', 'Cooking');
INSERT INTO RGC_SERIES_TYPE VALUES ('T013', 'Adventure');
INSERT INTO RGC_SERIES_TYPE VALUES ('T014', 'Fantasy');
INSERT INTO RGC_SERIES_TYPE VALUES ('T015', 'Biography');

INSERT INTO RGC_PRODUCTION_HOUSE VALUES ('H001','DreamWorks Studios','100 Sunset Blvd','Los Angeles','CA','90001','United States',1994);
INSERT INTO RGC_PRODUCTION_HOUSE VALUES ('H002','Red Chillies Entertainment','Bandra Road','Mumbai','MH','400050','India',2002);
INSERT INTO RGC_PRODUCTION_HOUSE VALUES ('H003','Pinewood Studios','Pinewood Rd','London','LDN','W1A','United Kingdom',1934);
INSERT INTO RGC_PRODUCTION_HOUSE VALUES ('H004','Netflix Originals','Sunset Drive','Los Gatos','CA','95032','United States',1997);
INSERT INTO RGC_PRODUCTION_HOUSE VALUES ('H005','Toho Productions','Shibuya Crossing','Tokyo','TYO','150-0001','Japan',1950);
INSERT INTO RGC_PRODUCTION_HOUSE VALUES ('H006','CJ ENM','Gangnam Ave','Seoul','SEO','06232','South Korea',2000);
INSERT INTO RGC_PRODUCTION_HOUSE VALUES ('H007','Gaumont Film Co','Rue Jean Jaurès','Paris','ILE','75001','France',1895);
INSERT INTO RGC_PRODUCTION_HOUSE VALUES ('H008','Paramount Pictures','Melrose Ave','Los Angeles','CA','90038','United States',1912);
INSERT INTO RGC_PRODUCTION_HOUSE VALUES ('H009','Marvel Studios','Manhattan St','New York','NY','10001','United States',1993);
INSERT INTO RGC_PRODUCTION_HOUSE VALUES ('H010','Universal Pictures','Lankershim Blvd','Los Angeles','CA','91602','United States',1912);
INSERT INTO RGC_PRODUCTION_HOUSE VALUES ('H011','Studio Ghibli','Koganei St','Tokyo','TYO','184-0002','Japan',1985);
INSERT INTO RGC_PRODUCTION_HOUSE VALUES ('H012','BBC Studios','Broadcasting House','London','LDN','W1A1AA','United Kingdom',1922);
INSERT INTO RGC_PRODUCTION_HOUSE VALUES ('H013','Yash Raj Films','Andheri East','Mumbai','MH','400069','India',1970);
INSERT INTO RGC_PRODUCTION_HOUSE VALUES ('H014','Lionsgate','Hollywood Blvd','Los Angeles','CA','90028','United States',1997);
INSERT INTO RGC_PRODUCTION_HOUSE VALUES ('H015','Warner Bros','Burbank Blvd','Burbank','CA','91522','United States',1923);

INSERT INTO RGC_PRODUCER VALUES ('P001','Steven','Spielberg','3105551001','steven@dreamworks.com','100 Ocean Ave','Los Angeles','CA','90001','United States');
INSERT INTO RGC_PRODUCER VALUES ('P002','ShahRukh','Khan','0225558899','srk@redchillies.in','Bandra West','Mumbai','MH','400050','India');
INSERT INTO RGC_PRODUCER VALUES ('P003','Emma','Thomas','0209988776','emma@pinewood.co.uk','Baker Street','London','LDN','W1A','United Kingdom');
INSERT INTO RGC_PRODUCER VALUES ('P004','Ted','Sarandos','4087779999','ted@netflix.com','Main St','Los Gatos','CA','95032','United States');
INSERT INTO RGC_PRODUCER VALUES ('P005','Hayao','Miyazaki','0336677889','hayao@toho.jp','Ghibli Ave','Tokyo','TYO','150-0001','Japan');
INSERT INTO RGC_PRODUCER VALUES ('P006','Bong','Joon-ho','0229877654','bong@cjenm.kr','Gangnam Rd','Seoul','SEO','06232','South Korea');
INSERT INTO RGC_PRODUCER VALUES ('P007','Pierre','Morel','3311122233','pierre@gaumont.fr','Rue Jean','Paris','ILE','75001','France');
INSERT INTO RGC_PRODUCER VALUES ('P008','Kevin','Feige','2123334455','kevin@marvel.com','Manhattan Blvd','New York','NY','10001','United States');
INSERT INTO RGC_PRODUCER VALUES ('P009','Christopher','Nolan','3107778888','nolan@warner.com','Sunset Blvd','Burbank','CA','91522','United States');
INSERT INTO RGC_PRODUCER VALUES ('P010','Yash','Chopra','0226765443','yash@yashraj.in','Andheri East','Mumbai','MH','400069','India');
INSERT INTO RGC_PRODUCER VALUES ('P011','Jon','Favreau','3235562345','jon@lionsgate.com','Hollywood Blvd','Los Angeles','CA','90028','United States');
INSERT INTO RGC_PRODUCER VALUES ('P012','James','Cameron','2139988775','james@paramount.com','Melrose Ave','Los Angeles','CA','90038','United States');
INSERT INTO RGC_PRODUCER VALUES ('P013','Pete','Docter','2137769900','pete@pixar.com','Marina Way','Los Angeles','CA','90210','United States');
INSERT INTO RGC_PRODUCER VALUES ('P014','Greta','Gerwig','2138889999','greta@warner.com','Broadway St','Burbank','CA','91522','United States');
INSERT INTO RGC_PRODUCER VALUES ('P015','Quentin','Tarantino','3239998888','quentin@universal.com','Lankershim Blvd','Los Angeles','CA','91602','United States');

INSERT INTO RGC_PRODUCER_PRODUCTION_HOUSE VALUES ('P001','H001','2010-01-01','2025-12-31');
INSERT INTO RGC_PRODUCER_PRODUCTION_HOUSE VALUES ('P002','H002','2015-06-01','2025-06-01');
INSERT INTO RGC_PRODUCER_PRODUCTION_HOUSE VALUES ('P003','H003','2011-05-01','2024-05-01');
INSERT INTO RGC_PRODUCER_PRODUCTION_HOUSE VALUES ('P004','H004','2016-02-10','2025-02-10');
INSERT INTO RGC_PRODUCER_PRODUCTION_HOUSE VALUES ('P005','H005','2012-03-20','2025-03-20');
INSERT INTO RGC_PRODUCER_PRODUCTION_HOUSE VALUES ('P006','H006','2017-01-01','2025-01-01');
INSERT INTO RGC_PRODUCER_PRODUCTION_HOUSE VALUES ('P007','H007','2010-07-15','2025-07-15');
INSERT INTO RGC_PRODUCER_PRODUCTION_HOUSE VALUES ('P008','H009','2012-12-12','2025-12-12');
INSERT INTO RGC_PRODUCER_PRODUCTION_HOUSE VALUES ('P009','H015','2010-01-01','2025-01-01');
INSERT INTO RGC_PRODUCER_PRODUCTION_HOUSE VALUES ('P010','H013','2014-01-01','2025-01-01');
INSERT INTO RGC_PRODUCER_PRODUCTION_HOUSE VALUES ('P011','H014','2018-05-10','2025-05-10');
INSERT INTO RGC_PRODUCER_PRODUCTION_HOUSE VALUES ('P012','H008','2009-01-01','2025-01-01');
INSERT INTO RGC_PRODUCER_PRODUCTION_HOUSE VALUES ('P013','H010','2013-03-15','2025-03-15');
INSERT INTO RGC_PRODUCER_PRODUCTION_HOUSE VALUES ('P014','H015','2018-01-01','2025-01-01');
INSERT INTO RGC_PRODUCER_PRODUCTION_HOUSE VALUES ('P015','H010','2012-01-01','2025-01-01');

INSERT INTO RGC_VIEWER VALUES ('A001','John','Smith','101 Elm St','New York','10001','2020-02-01',15.99,'US001');
INSERT INTO RGC_VIEWER VALUES ('A002','Aarav','Patel','15 Marine Dr','Mumbai','400001','2021-01-15',7.99,'IN002');
INSERT INTO RGC_VIEWER VALUES ('A003','Sophie','Brown','22 Oxford St','London','W1A1AA','2022-05-20',9.99,'UK003');
INSERT INTO RGC_VIEWER VALUES ('A004','Liam','Johnson','23 Main Rd','Toronto','M5A2B7','2019-09-10',11.99,'CA004');
INSERT INTO RGC_VIEWER VALUES ('A005','Olivia','Wilson','33 River Dr','Sydney','2000','2020-04-11',12.99,'AU005');
INSERT INTO RGC_VIEWER VALUES ('A006','Hiro','Tanaka','44 Sakura St','Tokyo','1500001','2021-10-05',8.99,'JP006');
INSERT INTO RGC_VIEWER VALUES ('A007','Jisoo','Kim','11 Gangnam St','Seoul','06232','2020-08-14',9.49,'KR007');
INSERT INTO RGC_VIEWER VALUES ('A008','Pierre','Dubois','22 Champs Elysees','Paris','75001','2020-03-30',9.99,'FR008');
INSERT INTO RGC_VIEWER VALUES ('A009','Hans','Muller','99 Berlin St','Berlin','10115','2021-06-21',8.49,'DE009');
INSERT INTO RGC_VIEWER VALUES ('A010','Mario','Rossi','55 Roma Ln','Rome','00100','2022-02-10',9.29,'IT010');
INSERT INTO RGC_VIEWER VALUES ('A011','Bruno','Silva','77 Rio Ave','Rio de Janeiro','22290','2021-07-09',6.99,'BR011');
INSERT INTO RGC_VIEWER VALUES ('A012','Isabella','Garcia','9 Madrid St','Madrid','28001','2020-11-20',9.99,'ES012');
INSERT INTO RGC_VIEWER VALUES ('A013','Carlos','Lopez','13 Reforma Blvd','Mexico City','11000','2022-05-01',8.29,'MX013');
INSERT INTO RGC_VIEWER VALUES ('A014','Wei','Li','55 Beijing Rd','Beijing','100005','2019-12-30',7.99,'CN014');
INSERT INTO RGC_VIEWER VALUES ('A015','Thabo','Nkosi','10 Nelson St','Cape Town','8001','2021-09-01',5.99,'ZA015');

INSERT INTO RGC_WEB_SERIES VALUES ('S001','Stranger Things',25,'2016-07-15','United States','English','H004');
INSERT INTO RGC_WEB_SERIES VALUES ('S002','Money Heist',41,'2017-05-02','Spain','Spanish','H014');
INSERT INTO RGC_WEB_SERIES VALUES ('S003','Sacred Games',16,'2018-07-06','India','Hindi','H002');
INSERT INTO RGC_WEB_SERIES VALUES ('S004','Dark',26,'2017-12-01','Germany','German','H015');
INSERT INTO RGC_WEB_SERIES VALUES ('S005','Narcos',30,'2015-08-28','United States','English','H004');
INSERT INTO RGC_WEB_SERIES VALUES ('S006','Kingdom',12,'2019-01-25','South Korea','Korean','H006');
INSERT INTO RGC_WEB_SERIES VALUES ('S007','The Witcher',16,'2019-12-20','United States','English','H009');
INSERT INTO RGC_WEB_SERIES VALUES ('S008','Emily in Paris',20,'2020-10-02','France','English','H007');
INSERT INTO RGC_WEB_SERIES VALUES ('S009','Attack on Titan',75,'2013-04-07','Japan','Japanese','H005');
INSERT INTO RGC_WEB_SERIES VALUES ('S010','Breaking Bad',62,'2008-01-20','United States','English','H010');
INSERT INTO RGC_WEB_SERIES VALUES ('S011','Lupin',10,'2021-01-08','France','French','H007');
INSERT INTO RGC_WEB_SERIES VALUES ('S012','Squid Game',9,'2021-09-17','South Korea','Korean','H006');
INSERT INTO RGC_WEB_SERIES VALUES ('S013','The Crown',40,'2016-11-04','United Kingdom','English','H012');
INSERT INTO RGC_WEB_SERIES VALUES ('S014','Delhi Crime',7,'2019-03-22','India','Hindi','H013');
INSERT INTO RGC_WEB_SERIES VALUES ('S015','One Piece',100,'2023-08-31','Japan','Japanese','H005');

INSERT INTO RGC_WEB_SERIES_SERIES_TYPE VALUES ('S001','T004');
INSERT INTO RGC_WEB_SERIES_SERIES_TYPE VALUES ('S002','T008');
INSERT INTO RGC_WEB_SERIES_SERIES_TYPE VALUES ('S003','T004');
INSERT INTO RGC_WEB_SERIES_SERIES_TYPE VALUES ('S004','T010');
INSERT INTO RGC_WEB_SERIES_SERIES_TYPE VALUES ('S005','T008');
INSERT INTO RGC_WEB_SERIES_SERIES_TYPE VALUES ('S006','T009');
INSERT INTO RGC_WEB_SERIES_SERIES_TYPE VALUES ('S007','T014');
INSERT INTO RGC_WEB_SERIES_SERIES_TYPE VALUES ('S008','T002');
INSERT INTO RGC_WEB_SERIES_SERIES_TYPE VALUES ('S009','T007');
INSERT INTO RGC_WEB_SERIES_SERIES_TYPE VALUES ('S010','T003');
INSERT INTO RGC_WEB_SERIES_SERIES_TYPE VALUES ('S011','T004');
INSERT INTO RGC_WEB_SERIES_SERIES_TYPE VALUES ('S012','T009');
INSERT INTO RGC_WEB_SERIES_SERIES_TYPE VALUES ('S013','T001');
INSERT INTO RGC_WEB_SERIES_SERIES_TYPE VALUES ('S014','T004');
INSERT INTO RGC_WEB_SERIES_SERIES_TYPE VALUES ('S015','T007');

INSERT INTO RGC_EPISODE VALUES ('E001','Chapter One: The Vanishing', 1200000,'NO','S001');
INSERT INTO RGC_EPISODE VALUES ('E002','Bella Ciao', 980000,'NO','S002');
INSERT INTO RGC_EPISODE VALUES ('E003','Ashwathama', 650000,'YES','S003');
INSERT INTO RGC_EPISODE VALUES ('E004','Secrets', 870000,'NO','S004');
INSERT INTO RGC_EPISODE VALUES ('E005','Descenso', 1400000,'NO','S005');
INSERT INTO RGC_EPISODE VALUES ('E006','Crown Prince', 750000,'NO','S006');
INSERT INTO RGC_EPISODE VALUES ('E007','Betrayer Moon', 2000000,'NO','S007');
INSERT INTO RGC_EPISODE VALUES ('E008','Emily Arrives', 430000,'NO','S008');
INSERT INTO RGC_EPISODE VALUES ('E009','To You, in 2000 Years', 5000000,'NO','S009');
INSERT INTO RGC_EPISODE VALUES ('E010','Pilot', 1200000,'YES','S010');
INSERT INTO RGC_EPISODE VALUES ('E011','Chapter 1', 800000,'NO','S011');
INSERT INTO RGC_EPISODE VALUES ('E012','Red Light, Green Light', 10000000,'NO','S012');
INSERT INTO RGC_EPISODE VALUES ('E013','Wolferton Splash', 600000,'NO','S013');
INSERT INTO RGC_EPISODE VALUES ('E014','Episode 1', 450000,'NO','S014');
INSERT INTO RGC_EPISODE VALUES ('E015','Romance Dawn', 3500000,'NO','S015');

INSERT INTO RGC_AIRING_SCHEDULE VALUES ('AS001','2016-07-15 20:00:00','2016-07-15 21:00:00','E001');
INSERT INTO RGC_AIRING_SCHEDULE VALUES ('AS002','2017-05-02 21:00:00','2017-05-02 22:00:00','E002');
INSERT INTO RGC_AIRING_SCHEDULE VALUES ('AS003','2018-07-06 19:30:00','2018-07-06 20:30:00','E003');
INSERT INTO RGC_AIRING_SCHEDULE VALUES ('AS004','2017-12-01 20:00:00','2017-12-01 21:00:00','E004');
INSERT INTO RGC_AIRING_SCHEDULE VALUES ('AS005','2015-08-28 19:00:00','2015-08-28 20:00:00','E005');
INSERT INTO RGC_AIRING_SCHEDULE VALUES ('AS006','2019-01-25 21:00:00','2019-01-25 22:00:00','E006');
INSERT INTO RGC_AIRING_SCHEDULE VALUES ('AS007','2019-12-20 22:00:00','2019-12-20 23:00:00','E007');
INSERT INTO RGC_AIRING_SCHEDULE VALUES ('AS008','2020-10-02 18:00:00','2020-10-02 19:00:00','E008');
INSERT INTO RGC_AIRING_SCHEDULE VALUES ('AS009','2013-04-07 20:00:00','2013-04-07 21:00:00','E009');
INSERT INTO RGC_AIRING_SCHEDULE VALUES ('AS010','2008-01-20 21:00:00','2008-01-20 22:00:00','E010');
INSERT INTO RGC_AIRING_SCHEDULE VALUES ('AS011','2021-01-08 19:00:00','2021-01-08 20:00:00','E011');
INSERT INTO RGC_AIRING_SCHEDULE VALUES ('AS012','2021-09-17 21:00:00','2021-09-17 22:00:00','E012');
INSERT INTO RGC_AIRING_SCHEDULE VALUES ('AS013','2016-11-04 20:00:00','2016-11-04 21:00:00','E013');
INSERT INTO RGC_AIRING_SCHEDULE VALUES ('AS014','2019-03-22 20:00:00','2019-03-22 21:00:00','E014');
INSERT INTO RGC_AIRING_SCHEDULE VALUES ('AS015','2023-08-31 18:00:00','2023-08-31 19:00:00','E015');

INSERT INTO RGC_CONTRACT VALUES ('C001','2016-07-01','2017-07-01',200000,'S001');
INSERT INTO RGC_CONTRACT VALUES ('C002','2017-05-01','2018-05-01',150000,'S002');
INSERT INTO RGC_CONTRACT VALUES ('C003','2018-07-01','2019-07-01',120000,'S003');
INSERT INTO RGC_CONTRACT VALUES ('C004','2017-12-01','2018-12-01',180000,'S004');
INSERT INTO RGC_CONTRACT VALUES ('C005','2015-08-01','2016-08-01',210000,'S005');
INSERT INTO RGC_CONTRACT VALUES ('C006','2019-01-01','2020-01-01',130000,'S006');
INSERT INTO RGC_CONTRACT VALUES ('C007','2019-12-01','2020-12-01',220000,'S007');
INSERT INTO RGC_CONTRACT VALUES ('C008','2020-10-01','2021-10-01',110000,'S008');
INSERT INTO RGC_CONTRACT VALUES ('C009','2013-04-01','2014-04-01',160000,'S009');
INSERT INTO RGC_CONTRACT VALUES ('C010','2008-01-01','2009-01-01',250000,'S010');
INSERT INTO RGC_CONTRACT VALUES ('C011','2021-01-01','2022-01-01',90000,'S011');
INSERT INTO RGC_CONTRACT VALUES ('C012','2021-09-01','2022-09-01',140000,'S012');
INSERT INTO RGC_CONTRACT VALUES ('C013','2016-11-01','2017-11-01',175000,'S013');
INSERT INTO RGC_CONTRACT VALUES ('C014','2019-03-01','2020-03-01',100000,'S014');
INSERT INTO RGC_CONTRACT VALUES ('C015','2023-08-01','2024-08-01',260000,'S015');

INSERT INTO RGC_FEEDBACK VALUES ('F001','Amazing storyline and cast!',5,'2022-05-01','S001','A001');
INSERT INTO RGC_FEEDBACK VALUES ('F002','Loved the plot twist!',4,'2022-07-10','S002','A012');
INSERT INTO RGC_FEEDBACK VALUES ('F003','Too dark but thrilling',4,'2022-06-05','S004','A009');
INSERT INTO RGC_FEEDBACK VALUES ('F004','Outstanding performance',5,'2022-04-20','S003','A002');
INSERT INTO RGC_FEEDBACK VALUES ('F005','Great cinematography',5,'2021-08-08','S005','A004');
INSERT INTO RGC_FEEDBACK VALUES ('F006','Scary but addictive',4,'2021-10-10','S009','A006');
INSERT INTO RGC_FEEDBACK VALUES ('F007','Good humor, relaxing show',4,'2021-12-05','S008','A008');
INSERT INTO RGC_FEEDBACK VALUES ('F008','Masterpiece writing',5,'2021-09-15','S010','A001');
INSERT INTO RGC_FEEDBACK VALUES ('F009','Excellent acting',5,'2022-05-05','S007','A011');
INSERT INTO RGC_FEEDBACK VALUES ('F010','Slow start but worth it',3,'2022-10-01','S006','A007');
INSERT INTO RGC_FEEDBACK VALUES ('F011','Emotional and deep',5,'2021-12-15','S013','A003');
INSERT INTO RGC_FEEDBACK VALUES ('F012','Very realistic show',4,'2022-01-20','S014','A002');
INSERT INTO RGC_FEEDBACK VALUES ('F013','Incredible animation',5,'2023-09-05','S015','A006');
INSERT INTO RGC_FEEDBACK VALUES ('F014','Mind-bending concept',5,'2021-10-10','S004','A005');
INSERT INTO RGC_FEEDBACK VALUES ('F015','A global sensation!',5,'2022-02-01','S012','A010');

INSERT INTO RGC_WS_RELEASE_COUNTRY VALUES ('2016-07-15','S001','US001');
INSERT INTO RGC_WS_RELEASE_COUNTRY VALUES ('2017-05-02','S002','ES012');
INSERT INTO RGC_WS_RELEASE_COUNTRY VALUES ('2018-07-06','S003','IN002');
INSERT INTO RGC_WS_RELEASE_COUNTRY VALUES ('2017-12-01','S004','DE009');
INSERT INTO RGC_WS_RELEASE_COUNTRY VALUES ('2015-08-28','S005','US001');
INSERT INTO RGC_WS_RELEASE_COUNTRY VALUES ('2019-01-25','S006','KR007');
INSERT INTO RGC_WS_RELEASE_COUNTRY VALUES ('2019-12-20','S007','US001');
INSERT INTO RGC_WS_RELEASE_COUNTRY VALUES ('2020-10-02','S008','FR008');
INSERT INTO RGC_WS_RELEASE_COUNTRY VALUES ('2013-04-07','S009','JP006');
INSERT INTO RGC_WS_RELEASE_COUNTRY VALUES ('2008-01-20','S010','US001');
INSERT INTO RGC_WS_RELEASE_COUNTRY VALUES ('2021-01-08','S011','FR008');
INSERT INTO RGC_WS_RELEASE_COUNTRY VALUES ('2021-09-17','S012','KR007');
INSERT INTO RGC_WS_RELEASE_COUNTRY VALUES ('2016-11-04','S013','UK003');
INSERT INTO RGC_WS_RELEASE_COUNTRY VALUES ('2019-03-22','S014','IN002');
INSERT INTO RGC_WS_RELEASE_COUNTRY VALUES ('2023-08-31','S015','JP006');

INSERT INTO RGC_WEBSERIES_SUBTITLE VALUES ('S001','S001');
INSERT INTO RGC_WEBSERIES_SUBTITLE VALUES ('S001','S002');
INSERT INTO RGC_WEBSERIES_SUBTITLE VALUES ('S002','S001');
INSERT INTO RGC_WEBSERIES_SUBTITLE VALUES ('S002','S002');
INSERT INTO RGC_WEBSERIES_SUBTITLE VALUES ('S003','S001');
INSERT INTO RGC_WEBSERIES_SUBTITLE VALUES ('S003','S005');
INSERT INTO RGC_WEBSERIES_SUBTITLE VALUES ('S004','S001');
INSERT INTO RGC_WEBSERIES_SUBTITLE VALUES ('S004','S004');
INSERT INTO RGC_WEBSERIES_SUBTITLE VALUES ('S005','S001');
INSERT INTO RGC_WEBSERIES_SUBTITLE VALUES ('S005','S009');
INSERT INTO RGC_WEBSERIES_SUBTITLE VALUES ('S006','S001');
INSERT INTO RGC_WEBSERIES_SUBTITLE VALUES ('S006','S006');
INSERT INTO RGC_WEBSERIES_SUBTITLE VALUES ('S007','S001');
INSERT INTO RGC_WEBSERIES_SUBTITLE VALUES ('S007','S008');
INSERT INTO RGC_WEBSERIES_SUBTITLE VALUES ('S008','S001');
INSERT INTO RGC_WEBSERIES_SUBTITLE VALUES ('S008','S003');
INSERT INTO RGC_WEBSERIES_SUBTITLE VALUES ('S009','S007');
INSERT INTO RGC_WEBSERIES_SUBTITLE VALUES ('S009','S001');
INSERT INTO RGC_WEBSERIES_SUBTITLE VALUES ('S010','S001');
INSERT INTO RGC_WEBSERIES_SUBTITLE VALUES ('S010','S002');
INSERT INTO RGC_WEBSERIES_SUBTITLE VALUES ('S011','S003');
INSERT INTO RGC_WEBSERIES_SUBTITLE VALUES ('S011','S001');
INSERT INTO RGC_WEBSERIES_SUBTITLE VALUES ('S012','S006');
INSERT INTO RGC_WEBSERIES_SUBTITLE VALUES ('S012','S001');
INSERT INTO RGC_WEBSERIES_SUBTITLE VALUES ('S013','S001');
INSERT INTO RGC_WEBSERIES_SUBTITLE VALUES ('S013','S003');
INSERT INTO RGC_WEBSERIES_SUBTITLE VALUES ('S014','S005');
INSERT INTO RGC_WEBSERIES_SUBTITLE VALUES ('S014','S001');
INSERT INTO RGC_WEBSERIES_SUBTITLE VALUES ('S015','S007');
INSERT INTO RGC_WEBSERIES_SUBTITLE VALUES ('S015','S001');

INSERT INTO RGC_WEBSERIES_DUBBING VALUES ('S001','D001');
INSERT INTO RGC_WEBSERIES_DUBBING VALUES ('S001','D002');
INSERT INTO RGC_WEBSERIES_DUBBING VALUES ('S002','D001');
INSERT INTO RGC_WEBSERIES_DUBBING VALUES ('S002','D002');
INSERT INTO RGC_WEBSERIES_DUBBING VALUES ('S003','D001');
INSERT INTO RGC_WEBSERIES_DUBBING VALUES ('S003','D004');
INSERT INTO RGC_WEBSERIES_DUBBING VALUES ('S004','D001');
INSERT INTO RGC_WEBSERIES_DUBBING VALUES ('S004','D007');
INSERT INTO RGC_WEBSERIES_DUBBING VALUES ('S005','D001');
INSERT INTO RGC_WEBSERIES_DUBBING VALUES ('S005','D008');
INSERT INTO RGC_WEBSERIES_DUBBING VALUES ('S006','D001');
INSERT INTO RGC_WEBSERIES_DUBBING VALUES ('S006','D005');
INSERT INTO RGC_WEBSERIES_DUBBING VALUES ('S007','D001');
INSERT INTO RGC_WEBSERIES_DUBBING VALUES ('S007','D010');
INSERT INTO RGC_WEBSERIES_DUBBING VALUES ('S008','D001');
INSERT INTO RGC_WEBSERIES_DUBBING VALUES ('S008','D003');
INSERT INTO RGC_WEBSERIES_DUBBING VALUES ('S009','D006');
INSERT INTO RGC_WEBSERIES_DUBBING VALUES ('S009','D001');
INSERT INTO RGC_WEBSERIES_DUBBING VALUES ('S010','D001');
INSERT INTO RGC_WEBSERIES_DUBBING VALUES ('S010','D002');
INSERT INTO RGC_WEBSERIES_DUBBING VALUES ('S011','D003');
INSERT INTO RGC_WEBSERIES_DUBBING VALUES ('S011','D001');
INSERT INTO RGC_WEBSERIES_DUBBING VALUES ('S012','D005');
INSERT INTO RGC_WEBSERIES_DUBBING VALUES ('S012','D001');
INSERT INTO RGC_WEBSERIES_DUBBING VALUES ('S013','D001');
INSERT INTO RGC_WEBSERIES_DUBBING VALUES ('S013','D003');
INSERT INTO RGC_WEBSERIES_DUBBING VALUES ('S014','D004');
INSERT INTO RGC_WEBSERIES_DUBBING VALUES ('S014','D001');
INSERT INTO RGC_WEBSERIES_DUBBING VALUES ('S015','D006');
INSERT INTO RGC_WEBSERIES_DUBBING VALUES ('S015','D001');

SELECT COUNT(*) AS RECORD_COUNT FROM RGC_COUNTRY;
SELECT * FROM RGC_COUNTRY;
SELECT COUNT(*) AS TOTAL_RECORDS FROM RGC_SUBTITLE_LANGUAGE;
SELECT * FROM RGC_SUBTITLE_LANGUAGE;
SELECT COUNT(*) AS TOTAL_RECORDS FROM RGC_DUBBING_LANGUAGE;
SELECT * FROM RGC_DUBBING_LANGUAGE;
SELECT COUNT(*) AS TOTAL_RECORDS FROM RGC_SERIES_TYPE;
SELECT * FROM RGC_SERIES_TYPE;
SELECT COUNT(*) AS TOTAL_RECORDS FROM RGC_PRODUCTION_HOUSE;
SELECT HOUSE_ID, HOUSE_NAME, ADDRESS_CITY, YEAR_ESTABLISHED FROM
RGC_PRODUCTION_HOUSE;
SELECT COUNT(*) AS TOTAL_RECORDS FROM RGC_PRODUCER;
SELECT PRODUCER_ID, P_FNAME, P_LNAME, P_EMAIL, P_ADDRESS_CITY
FROM RGC_PRODUCER;
SELECT COUNT(*) AS TOTAL_RECORDS FROM
RGC_PRODUCER_PRODUCTION_HOUSE;
SELECT * FROM RGC_PRODUCER_PRODUCTION_HOUSE;
SELECT COUNT(*) AS TOTAL_RECORDS FROM RGC_VIEWER;
SELECT ACCOUNT_ID, ACC_FNAME, ACC_LNAME, COUNTRY_CODE,
MONTHLY_CHARGE FROM RGC_VIEWER;
SELECT COUNT(*) AS TOTAL_RECORDS FROM RGC_WEB_SERIES;
SELECT SERIES_ID, SERIES_NAME, COUNTRY_OF_ORIGIN, LANGUAGE,
HOUSE_ID FROM RGC_WEB_SERIES;
SELECT COUNT(*) AS TOTAL_RECORDS FROM
RGC_WEB_SERIES_SERIES_TYPE;
SELECT * FROM RGC_WEB_SERIES_SERIES_TYPE;
SELECT COUNT(*) AS TOTAL_RECORDS FROM RGC_EPISODE;
SELECT EPISODE_ID, EPISODE_TITLE, TOTAL_VIEWERS,
TECHNICAL_INTERRUPTION, SERIES_ID FROM RGC_EPISODE;
SELECT COUNT(*) AS TOTAL_RECORDS FROM RGC_AIRING_SCHEDULE;
SELECT AIRING_SCHEDULE_ID, START_TS, END_TS, EPISODE_ID FROM
RGC_AIRING_SCHEDULE;
SELECT COUNT(*) AS TOTAL_RECORDS FROM RGC_CONTRACT;
SELECT CONTRACT_ID, CONTRACT_DATE, END_DATE, EPISODE_RATE,
SERIES_ID FROM RGC_CONTRACT;
SELECT COUNT(*) AS TOTAL_RECORDS FROM RGC_FEEDBACK;
SELECT FEEDBACK_ID, RATING, SERIES_ID, ACCOUNT_ID, FEEDBACK_TEXT
FROM RGC_FEEDBACK;
SELECT COUNT(*) AS TOTAL_RECORDS FROM RGC_WS_RELEASE_COUNTRY;
SELECT COUNT(*) AS TOTAL_RECORDS FROM RGC_WEBSERIES_SUBTITLE;
SELECT COUNT(*) AS TOTAL_RECORDS FROM RGC_WEBSERIES_DUBBING;

CREATE TABLE IF NOT EXISTS RGC_PLATFORM (
    PLATFORM_ID VARCHAR(10) PRIMARY KEY,
    PLATFORM_NAME VARCHAR(50) NOT NULL,
    PLATFORM_TYPE ENUM('STREAMING', 'TV', 'CABLE', 'ONLINE') DEFAULT 'STREAMING',
    WEBSITE_URL VARCHAR(100),
    LAUNCH_DATE DATE,
    SUBSCRIPTION_FEE DECIMAL(6,2),
    CREATED_DATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_platform_name (PLATFORM_NAME)
);


-- Insert sample platforms
INSERT INTO RGC_PLATFORM VALUES 
('PLT001', 'Netflix', 'STREAMING', 'https://netflix.com', '2007-01-01', 15.99, NOW()),
('PLT002', 'Amazon Prime', 'STREAMING', 'https://primevideo.com', '2011-02-01', 14.99, NOW()),
('PLT003', 'Disney+', 'STREAMING', 'https://disneyplus.com', '2019-11-12', 10.99, NOW()),
('PLT004', 'HBO Max', 'STREAMING', 'https://hbomax.com', '2020-05-27', 14.99, NOW()),
('PLT005', 'Hulu', 'STREAMING', 'https://hulu.com', '2008-03-12', 12.99, NOW()),
('PLT006', 'Apple TV+', 'STREAMING', 'https://tv.apple.com', '2019-11-01', 6.99, NOW()),
('PLT007', 'Paramount+', 'STREAMING', 'https://paramountplus.com', '2021-03-04', 9.99, NOW()),
('PLT008', 'Peacock', 'STREAMING', 'https://peacocktv.com', '2020-07-15', 5.99, NOW()),
('PLT009', 'YouTube Premium', 'ONLINE', 'https://youtube.com', '2015-10-28', 11.99, NOW()),
('PLT010', 'Crunchyroll', 'STREAMING', 'https://crunchyroll.com', '2006-05-01', 7.99, NOW());

-- Add PLATFORM_ID to AIRING_SCHEDULE if not exists
SET @column_exists = (
    SELECT COUNT(*) 
    FROM INFORMATION_SCHEMA.COLUMNS 
    WHERE TABLE_SCHEMA = 'RGC' 
    AND TABLE_NAME = 'RGC_AIRING_SCHEDULE' 
    AND COLUMN_NAME = 'PLATFORM_ID'
);

SET @sql = IF(@column_exists = 0,
    'ALTER TABLE RGC_AIRING_SCHEDULE ADD COLUMN PLATFORM_ID VARCHAR(10)',
    'SELECT "PLATFORM_ID column already exists" AS msg'
);

PREPARE stmt FROM @sql;
EXECUTE stmt;
DEALLOCATE PREPARE stmt;

-- Add foreign key if not exists
SET @fk_exists = (
    SELECT COUNT(*) 
    FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE 
    WHERE TABLE_SCHEMA = 'RGC' 
    AND TABLE_NAME = 'RGC_AIRING_SCHEDULE' 
    AND CONSTRAINT_NAME = 'FK_PLATFORM_SCHEDULE'
);

SET @sql = IF(@fk_exists = 0,
    'ALTER TABLE RGC_AIRING_SCHEDULE ADD CONSTRAINT FK_PLATFORM_SCHEDULE FOREIGN KEY (PLATFORM_ID) REFERENCES RGC_PLATFORM(PLATFORM_ID)',
    'SELECT "FK_PLATFORM_SCHEDULE already exists" AS msg'
);

PREPARE stmt FROM @sql;
EXECUTE stmt;
DEALLOCATE PREPARE stmt;

-- Update existing schedule records with a default platform
UPDATE RGC_AIRING_SCHEDULE 
SET PLATFORM_ID = 'PLT001' 
WHERE PLATFORM_ID IS NULL;

-- ============================================================================
-- 2. CREATE ENHANCED CONTRACT TABLE (For producer portal)
-- ============================================================================
CREATE TABLE IF NOT EXISTS RGC_CONTRACTS (
    CONTRACT_ID VARCHAR(30) PRIMARY KEY,
    SERIES_ID VARCHAR(10),
    HOUSE_ID VARCHAR(10),
    CONTRACT_TYPE ENUM('PRODUCTION', 'DISTRIBUTION', 'LICENSING', 'TALENT') NOT NULL,
    CONTRACT_VALUE DECIMAL(15, 2),
    START_DATE DATE NOT NULL,
    END_DATE DATE,
    STATUS ENUM('ACTIVE', 'PENDING', 'EXPIRED', 'TERMINATED') DEFAULT 'PENDING',
    PAYMENT_TERMS TEXT,
    MILESTONE_DETAILS JSON,
    CREATED_BY VARCHAR(30),
    CREATED_DATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    LAST_UPDATED TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (SERIES_ID) REFERENCES RGC_WEB_SERIES(SERIES_ID) ON DELETE CASCADE,
    FOREIGN KEY (HOUSE_ID) REFERENCES RGC_PRODUCTION_HOUSE(HOUSE_ID),
    INDEX idx_series (SERIES_ID),
    INDEX idx_house (HOUSE_ID),
    INDEX idx_status (STATUS)
);

-- Migrate data from old RGC_CONTRACT to new RGC_CONTRACTS
INSERT INTO RGC_CONTRACTS 
(CONTRACT_ID, SERIES_ID, HOUSE_ID, CONTRACT_TYPE, CONTRACT_VALUE, START_DATE, END_DATE, STATUS)
SELECT 
    c.CONTRACT_ID,
    c.SERIES_ID,
    ws.HOUSE_ID,
    'PRODUCTION' as CONTRACT_TYPE,
    c.EPISODE_RATE * ws.NUM_EPISODES as CONTRACT_VALUE,
    c.CONTRACT_DATE as START_DATE,
    c.END_DATE,
    CASE 
        WHEN c.END_DATE > CURDATE() THEN 'ACTIVE'
        WHEN c.END_DATE <= CURDATE() THEN 'EXPIRED'
        ELSE 'PENDING'
    END as STATUS
FROM RGC_CONTRACT c
JOIN RGC_WEB_SERIES ws ON c.SERIES_ID = ws.SERIES_ID
WHERE NOT EXISTS (
    SELECT 1 FROM RGC_CONTRACTS WHERE CONTRACT_ID = c.CONTRACT_ID
);

-- ============================================================================
-- 3. CREATE CONTRACT PAYMENTS TABLE
-- ============================================================================
CREATE TABLE IF NOT EXISTS RGC_CONTRACT_PAYMENTS (
    PAYMENT_ID VARCHAR(30) PRIMARY KEY,
    CONTRACT_ID VARCHAR(30),
    PAYMENT_DATE DATE,
    AMOUNT DECIMAL(15, 2),
    PAYMENT_STATUS ENUM('PENDING', 'COMPLETED', 'OVERDUE', 'CANCELLED') DEFAULT 'PENDING',
    PAYMENT_METHOD VARCHAR(50),
    NOTES TEXT,
    FOREIGN KEY (CONTRACT_ID) REFERENCES RGC_CONTRACTS(CONTRACT_ID) ON DELETE CASCADE,
    INDEX idx_contract (CONTRACT_ID),
    INDEX idx_status (PAYMENT_STATUS),
    INDEX idx_date (PAYMENT_DATE)
);

-- Insert sample payments
INSERT INTO RGC_CONTRACT_PAYMENTS VALUES
('PAY001', 'C001', '2016-07-01', 100000.00, 'COMPLETED', 'Bank Transfer', 'Initial payment'),
('PAY002', 'C001', '2017-01-01', 100000.00, 'COMPLETED', 'Bank Transfer', 'Final payment'),
('PAY003', 'C002', '2017-05-01', 75000.00, 'COMPLETED', 'Wire Transfer', 'First installment'),
('PAY004', 'C002', '2017-11-01', 75000.00, 'COMPLETED', 'Wire Transfer', 'Second installment'),
('PAY005', 'C003', '2018-07-01', 120000.00, 'COMPLETED', 'Check', 'Full payment');

-- ============================================================================
-- 4. CREATE CAST & CREW TABLE
-- ============================================================================
CREATE TABLE IF NOT EXISTS RGC_CAST_CREW (
    ASSOCIATION_ID VARCHAR(30) PRIMARY KEY,
    SERIES_ID VARCHAR(10),
    PERSON_NAME VARCHAR(100) NOT NULL,
    ROLE_TYPE ENUM('ACTOR', 'DIRECTOR', 'WRITER', 'PRODUCER', 'CINEMATOGRAPHER', 'EDITOR', 'OTHER') NOT NULL,
    CHARACTER_NAME VARCHAR(100),
    ROLE_DESCRIPTION TEXT,
    START_DATE DATE,
    END_DATE DATE,
    COMPENSATION DECIMAL(15, 2),
    STATUS ENUM('ACTIVE', 'COMPLETED', 'TERMINATED') DEFAULT 'ACTIVE',
    FOREIGN KEY (SERIES_ID) REFERENCES RGC_WEB_SERIES(SERIES_ID) ON DELETE CASCADE,
    INDEX idx_series (SERIES_ID),
    INDEX idx_person (PERSON_NAME),
    INDEX idx_role (ROLE_TYPE)
);

-- Insert sample cast & crew
INSERT INTO RGC_CAST_CREW VALUES
('ASSOC001', 'S001', 'Millie Bobby Brown', 'ACTOR', 'Eleven', 'Lead character', '2016-01-01', NULL, 300000.00, 'ACTIVE'),
('ASSOC002', 'S001', 'Finn Wolfhard', 'ACTOR', 'Mike Wheeler', 'Main cast', '2016-01-01', NULL, 250000.00, 'ACTIVE'),
('ASSOC003', 'S001', 'Matt Duffer', 'DIRECTOR', NULL, 'Co-creator and director', '2016-01-01', NULL, 500000.00, 'ACTIVE'),
('ASSOC004', 'S002', 'Álvaro Morte', 'ACTOR', 'The Professor', 'Lead character', '2017-01-01', '2021-12-01', 400000.00, 'COMPLETED'),
('ASSOC005', 'S002', 'Úrsula Corberó', 'ACTOR', 'Tokyo', 'Main character', '2017-01-01', '2021-12-01', 350000.00, 'COMPLETED'),
('ASSOC006', 'S003', 'Saif Ali Khan', 'ACTOR', 'Sartaj Singh', 'Lead', '2018-01-01', '2019-08-01', 200000.00, 'COMPLETED'),
('ASSOC007', 'S003', 'Nawazuddin Siddiqui', 'ACTOR', 'Ganesh Gaitonde', 'Lead', '2018-01-01', '2019-08-01', 250000.00, 'COMPLETED'),
('ASSOC008', 'S004', 'Louis Hofmann', 'ACTOR', 'Jonas Kahnwald', 'Protagonist', '2017-01-01', '2020-06-01', 150000.00, 'COMPLETED'),
('ASSOC009', 'S007', 'Henry Cavill', 'ACTOR', 'Geralt of Rivia', 'Lead', '2019-01-01', NULL, 400000.00, 'ACTIVE'),
('ASSOC010', 'S010', 'Bryan Cranston', 'ACTOR', 'Walter White', 'Protagonist', '2008-01-01', '2013-09-01', 225000.00, 'COMPLETED');

-- ============================================================================
-- 5. CREATE PRODUCERS MANAGEMENT TABLE
-- ============================================================================
CREATE TABLE IF NOT EXISTS RGC_PRODUCERS (
    PRODUCER_ID VARCHAR(30) PRIMARY KEY,
    PRODUCER_NAME VARCHAR(100) NOT NULL,
    EMAIL VARCHAR(100),
    PHONE VARCHAR(20),
    COMPANY_NAME VARCHAR(100),
    ADDRESS TEXT,
    SPECIALIZATION VARCHAR(100),
    YEARS_EXPERIENCE INT,
    STATUS ENUM('ACTIVE', 'INACTIVE') DEFAULT 'ACTIVE',
    CREATED_DATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_name (PRODUCER_NAME),
    INDEX idx_email (EMAIL)
);

-- Migrate existing producers to new table
INSERT INTO RGC_PRODUCERS 
(PRODUCER_ID, PRODUCER_NAME, EMAIL, PHONE, COMPANY_NAME, ADDRESS, SPECIALIZATION, YEARS_EXPERIENCE, STATUS)
SELECT 
    PRODUCER_ID,
    CONCAT(P_FNAME, ' ', IFNULL(P_LNAME, '')) as PRODUCER_NAME,
    P_EMAIL,
    P_PHONE,
    NULL as COMPANY_NAME,
    CONCAT(P_ADDRESS_STREET, ', ', P_ADDRESS_CITY, ', ', P_ADDRESS_STATE, ' ', P_ADDRESS_ZIP, ', ', P_ADDRESS_COUNTRY) as ADDRESS,
    'Film & TV Production' as SPECIALIZATION,
    YEAR(CURDATE()) - 2010 as YEARS_EXPERIENCE,
    'ACTIVE' as STATUS
FROM RGC_PRODUCER
WHERE NOT EXISTS (
    SELECT 1 FROM RGC_PRODUCERS WHERE PRODUCER_ID = RGC_PRODUCER.PRODUCER_ID
);

-- ============================================================================
-- VERIFICATION QUERIES
-- ============================================================================
SELECT 'Database schema updated successfully!' as Status;

SELECT TABLE_NAME, TABLE_ROWS 
FROM INFORMATION_SCHEMA.TABLES 
WHERE TABLE_SCHEMA = 'RGC' 
AND TABLE_NAME IN ('RGC_PLATFORM', 'RGC_CONTRACTS', 'RGC_CONTRACT_PAYMENTS', 'RGC_CAST_CREW', 'RGC_PRODUCERS')
ORDER BY TABLE_NAME;

SELECT 
    ph.HOUSE_NAME AS production_house,
    ph.ADDRESS_CITY AS city,
    COUNT(DISTINCT ws.SERIES_ID) AS total_series,
    COUNT(DISTINCT e.EPISODE_ID) AS total_episodes,
    SUM(e.TOTAL_VIEWERS) AS total_viewership,
    ROUND(AVG(f.RATING), 2) AS avg_rating,
    GROUP_CONCAT(DISTINCT st.SERIES_TYPE_NAME ORDER BY st.SERIES_TYPE_NAME) AS genres_produced
FROM RGC_PRODUCTION_HOUSE ph
INNER JOIN RGC_WEB_SERIES ws ON ph.HOUSE_ID = ws.HOUSE_ID
LEFT JOIN RGC_EPISODE e ON ws.SERIES_ID = e.SERIES_ID
LEFT JOIN RGC_FEEDBACK f ON ws.SERIES_ID = f.SERIES_ID
LEFT JOIN RGC_WEB_SERIES_SERIES_TYPE wst ON ws.SERIES_ID = wst.SERIES_ID
LEFT JOIN RGC_SERIES_TYPE st ON wst.SERIES_TYPE_ID = st.SERIES_TYPE_ID
GROUP BY ph.HOUSE_ID, ph.HOUSE_NAME, ph.ADDRESS_CITY
HAVING total_viewership > 0
ORDER BY total_viewership DESC, avg_rating DESC
LIMIT 10;

SELECT 
    v.ACCOUNT_ID,
    CONCAT(v.ACC_FNAME, ' ', COALESCE(v.ACC_LNAME, '')) AS viewer_name,
    c.COUNTRY_NAME,
    ws.SERIES_NAME,
    f.RATING AS viewer_rating,
    (SELECT ROUND(AVG(f2.RATING), 2) 
     FROM RGC_FEEDBACK f2 
     WHERE f2.SERIES_ID = f.SERIES_ID) AS series_avg_rating,
    f.RATING - (SELECT AVG(f2.RATING) 
                FROM RGC_FEEDBACK f2 
                WHERE f2.SERIES_ID = f.SERIES_ID) AS rating_difference
FROM RGC_VIEWER v
INNER JOIN RGC_FEEDBACK f ON v.ACCOUNT_ID = f.ACCOUNT_ID
INNER JOIN RGC_WEB_SERIES ws ON f.SERIES_ID = ws.SERIES_ID
INNER JOIN RGC_COUNTRY c ON v.COUNTRY_CODE = c.COUNTRY_CODE
WHERE f.RATING > (
    SELECT AVG(f2.RATING)
    FROM RGC_FEEDBACK f2
    WHERE f2.SERIES_ID = f.SERIES_ID
)
ORDER BY rating_difference DESC, viewer_name;

SELECT 
    ws.SERIES_ID,
    ws.SERIES_NAME,
    ph.HOUSE_NAME AS production_house,
    ws.NUM_EPISODES AS planned_episodes,
    COUNT(DISTINCT e.EPISODE_ID) AS episodes_produced,
    MAX(e.TOTAL_VIEWERS) AS peak_episode_viewers,
    ROUND(AVG(e.TOTAL_VIEWERS), 0) AS avg_episode_viewers,
    (SELECT e2.EPISODE_TITLE 
     FROM RGC_EPISODE e2 
     WHERE e2.SERIES_ID = ws.SERIES_ID 
     ORDER BY e2.TOTAL_VIEWERS DESC 
     LIMIT 1) AS most_watched_episode
FROM RGC_WEB_SERIES ws
INNER JOIN RGC_PRODUCTION_HOUSE ph ON ws.HOUSE_ID = ph.HOUSE_ID
LEFT JOIN RGC_EPISODE e ON ws.SERIES_ID = e.SERIES_ID
GROUP BY ws.SERIES_ID, ws.SERIES_NAME, ph.HOUSE_NAME, ws.NUM_EPISODES
HAVING MAX(e.TOTAL_VIEWERS) >= AVG(e.TOTAL_VIEWERS)
ORDER BY peak_episode_viewers DESC;

SELECT 
    ph.HOUSE_ID,
    ph.HOUSE_NAME,
    ph.ADDRESS_COUNTRY,
    ROUND(AVG(f.RATING), 2) AS avg_rating,
    COUNT(DISTINCT ws.SERIES_ID) AS series_count,
    'Premium Producer' AS category
FROM RGC_PRODUCTION_HOUSE ph
INNER JOIN RGC_WEB_SERIES ws ON ph.HOUSE_ID = ws.HOUSE_ID
INNER JOIN RGC_FEEDBACK f ON ws.SERIES_ID = f.SERIES_ID
GROUP BY ph.HOUSE_ID, ph.HOUSE_NAME, ph.ADDRESS_COUNTRY
HAVING AVG(f.RATING) >= 4.5
UNION
SELECT 
    ph.HOUSE_ID,
    ph.HOUSE_NAME,
    ph.ADDRESS_COUNTRY,
    ROUND(AVG(f.RATING), 2) AS avg_rating,
    COUNT(DISTINCT ws.SERIES_ID) AS series_count,
    'Standard Producer' AS category
FROM RGC_PRODUCTION_HOUSE ph
INNER JOIN RGC_WEB_SERIES ws ON ph.HOUSE_ID = ws.HOUSE_ID
INNER JOIN RGC_FEEDBACK f ON ws.SERIES_ID = f.SERIES_ID
GROUP BY ph.HOUSE_ID, ph.HOUSE_NAME, ph.ADDRESS_COUNTRY
HAVING AVG(f.RATING) < 4.0
ORDER BY avg_rating DESC, series_count DESC;

WITH SeriesMetrics AS (
    SELECT 
        ws.SERIES_ID,
        ws.SERIES_NAME,
        ph.HOUSE_NAME,
        ws.NUM_EPISODES,
        COUNT(DISTINCT e.EPISODE_ID) AS episodes_created,
        SUM(e.TOTAL_VIEWERS) AS total_views,
        ROUND(AVG(f.RATING), 2) AS avg_rating,
        COUNT(DISTINCT f.FEEDBACK_ID) AS review_count
    FROM RGC_WEB_SERIES ws
    INNER JOIN RGC_PRODUCTION_HOUSE ph ON ws.HOUSE_ID = ph.HOUSE_ID
    LEFT JOIN RGC_EPISODE e ON ws.SERIES_ID = e.SERIES_ID
    LEFT JOIN RGC_FEEDBACK f ON ws.SERIES_ID = f.SERIES_ID
    GROUP BY ws.SERIES_ID, ws.SERIES_NAME, ph.HOUSE_NAME, ws.NUM_EPISODES
),
ContractCosts AS (
    SELECT 
        c.SERIES_ID,
        SUM(c.EPISODE_RATE) AS total_contract_cost,
        COUNT(c.CONTRACT_ID) AS contract_count
    FROM RGC_CONTRACT c
    GROUP BY c.SERIES_ID
),
ViewershipValue AS (
    SELECT 
        sm.SERIES_ID,
        sm.total_views,
        (sm.total_views * 0.20) AS estimated_revenue
    FROM SeriesMetrics sm
)
SELECT 
    sm.SERIES_ID,
    sm.SERIES_NAME,
    sm.HOUSE_NAME,
    sm.episodes_created,
    sm.total_views,
    sm.avg_rating,
    cc.total_contract_cost,
    vv.estimated_revenue,
    ROUND(vv.estimated_revenue - cc.total_contract_cost, 2) AS profit,
    ROUND(((vv.estimated_revenue - cc.total_contract_cost) / cc.total_contract_cost) * 100, 2) AS roi_percentage
FROM SeriesMetrics sm
INNER JOIN ContractCosts cc ON sm.SERIES_ID = cc.SERIES_ID
INNER JOIN ViewershipValue vv ON sm.SERIES_ID = vv.SERIES_ID
WHERE vv.estimated_revenue >= cc.total_contract_cost
ORDER BY roi_percentage DESC, profit DESC
LIMIT 15;

